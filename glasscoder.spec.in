## glasscoder.spec.in
##
##    Minimalist JACK-Based Media Streaming Encoder
##
##    Copyright (C) 2014  Fred Gleason <fredg@paravelsystems.com>
##
##    This program is free software; you can redistribute it and/or modify
##    it under the terms of version 2 of the GNU General Public License as
##    published by the Free Software Foundation;
##
##    This program is distributed in the hope that it will be useful,
##    but WITHOUT ANY WARRANTY; without even the implied warranty of
##    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##    GNU General Public License for more details.
##
##    You should have received a copy of the GNU General Public License
##    along with this program; if not, write to the Free Software
##    Foundation, Inc., 59 Temple Place, Suite 330, 
##    Boston, MA  02111-1307  USA
##

Summary: Minimalist Media Streaming Encoder for JACK
Name: glasscoder
Version: @VERSION@
Release: @RPM_RELEASE@%{?dist}
License: GPLv2
Packager: Fred Gleason <fredg@paravelsystems.com>
Group: Productivity/Multimedia/Other
Source: %{name}-@VERSION@.tar.gz
BuildRequires: qt-devel libsamplerate-devel jack-audio-connection-kit-devel
BuildRoot: /var/tmp/%{name}-@VERSION@
Requires: curl

%description
Glasscoder is a live media encoder intended for use with Shoutcast and Icecast
streaming servers.  It uses the JACK Audio Connection Kit for audio input
and is capable of generating live audio streams in a vairety of formats.
It is controlled completely from the command-line, with no configuration
files or GUI required.


%prep


%setup


%build
./configure --prefix=/usr
make


%install
rm -rf $RPM_BUILD_ROOT
make install DESTDIR=$RPM_BUILD_ROOT

%post


%clean
rm -rf $RPM_BUILD_ROOT


%files
%defattr(-,root,root)
%{_bindir}/glasscoder
%{_mandir}/man1/glasscoder.1.gz
%doc AUTHORS
%doc ChangeLog
%doc COPYING 
%doc NEWS 
%doc README 


%changelog
* Tue Aug 11 2015 Fred Gleason <fredg@paravelsystems.com>
-- Added a curl(1) dependency.
* Thu Jun 10 2014 Fred Gleason <fredg@paravelsystems.com>
-- Removed the 'libshout-devel' and 'lame-devel' build dependencies.
* Tue Feb 18 2014 Fred Gleason <fredg@paravelsystems.com>
-- Initial RPM creation.
